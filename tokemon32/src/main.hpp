#pragma once

#include <windows.h>
#include <shlobj.h>
#include <stdio.h>

#include "resource.hpp"

#define TOKEMON32_FILENAME L"tokemon32"

LPWSTR AllocatePathBuffer(void);
LPWSTR GetRunningFileName(void);
LPWSTR GetRunningPath(void);
LPWSTR GetAppDataPath(void);
LPWSTR ExpectedFileName(BOOL switchVal);
LPWSTR ParseFileName(LPWSTR fullPath);
BOOL DirectoryExists(LPWSTR fullPath);
BOOL MakeAllDirectories(LPWSTR fileName);
BOOL CopyToTargetPath(void);
BOOL AddToRegistry(void);
void RelaunchCorrectly(void);
void InstallTokemon(void);
BOOL DumpHook(void);
HMODULE LoadHook(void);
void LaunchTokemon(LPWSTR previousFileName);
